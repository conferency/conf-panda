ace.define("ace/keyboard/vim/registers",["require","exports","module"],function(b,a,c){c.exports={_default:{text:"",isLine:!1}}}),ace.define("ace/keyboard/vim/maps/util",["require","exports","module","ace/keyboard/vim/registers","ace/lib/dom"],function(d,b,f){var c=d("../registers"),a=d("../../../lib/dom");a.importCssString(".insert-mode .ace_cursor{    border-left: 2px solid #333333;}.ace_dark.insert-mode .ace_cursor{    border-left: 2px solid #eeeeee;}.normal-mode .ace_cursor{    border: 0!important;    background-color: red;    opacity: 0.5;}","vimMode"),f.exports={onVisualMode:!1,onVisualLineMode:!1,currentMode:"normal",noMode:function(g){g.unsetStyle("insert-mode"),g.unsetStyle("normal-mode"),g.commands.recording&&g.commands.toggleRecording(g),g.setOverwrite(!1)},insertMode:function(g){this.currentMode="insert",g.setStyle("insert-mode"),g.unsetStyle("normal-mode"),g.setOverwrite(!1),g.keyBinding.$data.buffer="",g.keyBinding.$data.vimState="insertMode",this.onVisualMode=!1,this.onVisualLineMode=!1,this.onInsertReplaySequence?(g.commands.macro=this.onInsertReplaySequence,g.commands.replay(g),this.onInsertReplaySequence=null,this.normalMode(g)):(g._emit("changeStatus"),g.commands.recording||g.commands.toggleRecording(g))},normalMode:function(h){this.currentMode="normal",h.unsetStyle("insert-mode"),h.setStyle("normal-mode"),h.clearSelection();var g;return h.getOverwrite()||(g=h.getCursorPosition(),g.column>0&&h.navigateLeft()),h.setOverwrite(!0),h.keyBinding.$data.buffer="",h.keyBinding.$data.vimState="start",this.onVisualMode=!1,this.onVisualLineMode=!1,h._emit("changeStatus"),h.commands.recording?(h.commands.toggleRecording(h),h.commands.macro):[]},visualMode:function(h,g){if(this.onVisualLineMode&&g||this.onVisualMode&&!g){this.normalMode(h);return}h.setStyle("insert-mode"),h.unsetStyle("normal-mode"),h._emit("changeStatus"),g?this.onVisualLineMode=!0:(this.onVisualMode=!0,this.onVisualLineMode=!1)},getRightNthChar:function(l,h,m,k){var g=l.getSession().getLine(h.row),j=g.substr(h.column+1).split(m);return k<j.length?j.slice(0,k).join(m).length:null},getLeftNthChar:function(l,h,m,k){var g=l.getSession().getLine(h.row),j=g.substr(0,h.column).split(m);return k<j.length?j.slice(-1*k).join(m).length:null},toRealChar:function(g){return g.length===1?g:/^shift-./.test(g)?g[g.length-1].toUpperCase():""},copyLine:function(h){var g=h.getCursorPosition();h.selection.moveTo(g.row,g.column),h.selection.selectLine(),c._default.isLine=!0,c._default.text=h.getCopyText().replace(/\n$/,""),h.selection.moveTo(g.row,g.column)}}}),ace.define("ace/keyboard/vim/maps/motions",["require","exports","module","ace/keyboard/vim/maps/util","ace/search","ace/range"],function(x,C,k){function D(c){if(typeof c=="function"){var a=c;c=this}else{var a=c.getPos}return c.nav=function(l,o,h,d){var f=a(l,o,h,d,!1);if(!f){return}l.selection.moveTo(f.row,f.column)},c.sel=function(l,o,h,d){var f=a(l,o,h,d,!0);if(!f){return}l.selection.selectTo(f.row,f.column)},c}function v(c,a,d){return z.$options.needle=a,z.$options.backwards=d==-1,z.find(c.session)}var b=x("./util"),q=function(f,c){var h=f.renderer.getScrollTopRow(),d=f.getCursorPosition().row,a=d-h;c&&c.call(f),f.renderer.scrollToRow(f.getCursorPosition().row-a)},j=/[\s.\/\\()\"'-:,.;<>~!@#$%^&*|+=\[\]{}`~?]/,B=/[.\/\\()\"'-:,.;<>~!@#$%^&*|+=\[\]{}`~?]/,A=/\s/,w=function(f,c){var h=f.selection;this.range=h.getRange(),c=c||h.selectionLead,this.row=c.row,this.col=c.column;var d=f.session.getLine(this.row),a=f.session.getLength();this.ch=d[this.col]||"\n",this.skippedLines=0,this.next=function(){return this.ch=d[++this.col]||this.handleNewLine(1),this.ch},this.prev=function(){return this.ch=d[--this.col]||this.handleNewLine(-1),this.ch},this.peek=function(e){var i=d[this.col+e];return i?i:e==-1?"\n":this.col==d.length-1?"\n":f.session.getLine(this.row+1)[0]||"\n"},this.handleNewLine=function(e){if(e==1){return this.col==d.length?"\n":this.row==a-1?"":(this.col=0,this.row++,d=f.session.getLine(this.row),this.skippedLines++,d[0]||"\n")}if(e==-1){return this.row===0?"":(this.row--,d=f.session.getLine(this.row),this.col=d.length,this.skippedLines--,"\n")}},this.debug=function(){console.log(d.substring(0,this.col)+"|"+this.ch+"'"+this.col+"'"+d.substr(this.col+1))}},m=x("../../../search").Search,z=new m,g=x("../../../range").Range,y={};k.exports={w:new D(function(c){var a=new w(c);if(a.ch&&B.test(a.ch)){while(a.ch&&B.test(a.ch)){a.next()}}else{while(a.ch&&!j.test(a.ch)){a.next()}}while(a.ch&&A.test(a.ch)&&a.skippedLines<2){a.next()}return a.skippedLines==2&&a.prev(),{column:a.col,row:a.row}}),W:new D(function(c){var a=new w(c);while(a.ch&&(!A.test(a.ch)||!!A.test(a.peek(1)))&&a.skippedLines<2){a.next()}return a.skippedLines==2?a.prev():a.next(),{column:a.col,row:a.row}}),b:new D(function(c){var a=new w(c);a.prev();while(a.ch&&A.test(a.ch)&&a.skippedLines>-2){a.prev()}if(a.ch&&B.test(a.ch)){while(a.ch&&B.test(a.ch)){a.prev()}}else{while(a.ch&&!j.test(a.ch)){a.prev()}}return a.ch&&a.next(),{column:a.col,row:a.row}}),B:new D(function(c){var a=new w(c);a.prev();while(a.ch&&(!!A.test(a.ch)||!A.test(a.peek(-1)))&&a.skippedLines>-2){a.prev()}return a.skippedLines==-2&&a.next(),{column:a.col,row:a.row}}),e:new D(function(c){var a=new w(c);a.next();while(a.ch&&A.test(a.ch)){a.next()}if(a.ch&&B.test(a.ch)){while(a.ch&&B.test(a.ch)){a.next()}}else{while(a.ch&&!j.test(a.ch)){a.next()}}return a.ch&&a.prev(),{column:a.col,row:a.row}}),E:new D(function(c){var a=new w(c);a.next();while(a.ch&&(!!A.test(a.ch)||!A.test(a.peek(1)))){a.next()}return{column:a.col,row:a.row}}),l:{nav:function(d){var a=d.getCursorPosition(),f=a.column,c=d.session.getLine(a.row).length;c&&f!==c&&d.navigateRight()},sel:function(d){var a=d.getCursorPosition(),f=a.column,c=d.session.getLine(a.row).length;c&&f!==c&&d.selection.selectRight()}},h:{nav:function(c){var a=c.getCursorPosition();a.column>0&&c.navigateLeft()},sel:function(c){var a=c.getCursorPosition();a.column>0&&c.selection.selectLeft()}},H:{nav:function(c){var a=c.renderer.getScrollTopRow();c.moveCursorTo(a)},sel:function(c){var a=c.renderer.getScrollTopRow();c.selection.selectTo(a)}},M:{nav:function(d){var a=d.renderer.getScrollTopRow(),f=d.renderer.getScrollBottomRow(),c=a+(f-a)/2;d.moveCursorTo(c)},sel:function(d){var a=d.renderer.getScrollTopRow(),f=d.renderer.getScrollBottomRow(),c=a+(f-a)/2;d.selection.selectTo(c)}},L:{nav:function(c){var a=c.renderer.getScrollBottomRow();c.moveCursorTo(a)},sel:function(c){var a=c.renderer.getScrollBottomRow();c.selection.selectTo(a)}},k:{nav:function(a){a.navigateUp()},sel:function(a){a.selection.selectUp()}},j:{nav:function(a){a.navigateDown()},sel:function(a){a.selection.selectDown()}},i:{param:!0,sel:function(h,c,p,f){switch(f){case"w":h.selection.selectWord();break;case"W":h.selection.selectAWord();break;case"(":case"{":case"[":var a=h.getCursorPosition(),d=h.session.$findClosingBracket(f,a,/paren/);if(!d){return}var l=h.session.$findOpeningBracket(h.session.$brackets[f],a,/paren/);if(!l){return}l.column++,h.selection.setSelectionRange(g.fromPoints(l,d));break;case"'":case'"':case"/":var d=v(h,f,1);if(!d){return}var l=v(h,f,-1);if(!l){return}h.selection.setSelectionRange(g.fromPoints(l.end,d.start))}}},a:{param:!0,sel:function(h,c,p,f){switch(f){case"w":h.selection.selectAWord();break;case"W":h.selection.selectAWord();break;case")":case"}":case"]":f=h.session.$brackets[f];case"(":case"{":case"[":var a=h.getCursorPosition(),d=h.session.$findClosingBracket(f,a,/paren/);if(!d){return}var l=h.session.$findOpeningBracket(h.session.$brackets[f],a,/paren/);if(!l){return}d.column++,h.selection.setSelectionRange(g.fromPoints(l,d));break;case"'":case'"':case"/":var d=v(h,f,1);if(!d){return}var l=v(h,f,-1);if(!l){return}d.column++,h.selection.setSelectionRange(g.fromPoints(l.start,d.end))}}},f:new D({param:!0,handlesCount:!0,getPos:function(p,h,E,f,l,r){f=="space"&&(f=" "),r||(y={ch:"f",param:f});var d=p.getCursorPosition(),c=b.getRightNthChar(p,d,f,E||1);if(typeof c=="number"){return d.column+=c+(l?2:1),d}}}),F:new D({param:!0,handlesCount:!0,getPos:function(p,h,E,f,l,r){f=="space"&&(f=" "),r||(y={ch:"F",param:f});var d=p.getCursorPosition(),c=b.getLeftNthChar(p,d,f,E||1);if(typeof c=="number"){return d.column-=c+1,d}}}),t:new D({param:!0,handlesCount:!0,getPos:function(p,h,E,f,l,r){f=="space"&&(f=" "),r||(y={ch:"t",param:f});var d=p.getCursorPosition(),c=b.getRightNthChar(p,d,f,E||1);r&&c==0&&!(E>1)&&(c=b.getRightNthChar(p,d,f,2));if(typeof c=="number"){return d.column+=c+(l?1:0),d}}}),T:new D({param:!0,handlesCount:!0,getPos:function(p,h,E,f,l,r){f=="space"&&(f=" "),r||(y={ch:"T",param:f});var d=p.getCursorPosition(),c=b.getLeftNthChar(p,d,f,E||1);r&&c===0&&!(E>1)&&(c=b.getLeftNthChar(p,d,f,2));if(typeof c=="number"){return d.column-=c,d}}}),";":new D({handlesCount:!0,getPos:function(h,c,f,a,d){var l=y.ch;if(!l){return}return k.exports[l].getPos(h,c,f,y.param,d,!0)}}),",":new D({handlesCount:!0,getPos:function(l,d,h,c,f){var n=y.ch;if(!n){return}var a=n.toUpperCase();return n=n===a?n.toLowerCase():a,k.exports[n].getPos(l,d,h,y.param,f,!0)}}),"^":{nav:function(a){a.navigateLineStart()},sel:function(a){a.selection.selectLineStart()}},$:{handlesCount:!0,nav:function(d,a,f,c){f>1&&d.navigateDown(f-1),d.navigateLineEnd()},sel:function(d,a,f,c){f>1&&d.selection.moveCursorBy(f-1,0),d.selection.selectLineEnd()}},0:new D(function(a){return{row:a.selection.lead.row,column:0}}),G:{nav:function(d,a,f,c){!f&&f!==0&&(f=d.session.getLength()),d.gotoLine(f)},sel:function(d,a,f,c){!f&&f!==0&&(f=d.session.getLength()),d.selection.selectTo(f,0)}},g:{param:!0,nav:function(d,a,f,c){switch(c){case"m":console.log("Middle line");break;case"e":console.log("End of prev word");break;case"g":d.gotoLine(f||0);case"u":d.gotoLine(f||0);case"U":d.gotoLine(f||0)}},sel:function(d,a,f,c){switch(c){case"m":console.log("Middle line");break;case"e":console.log("End of prev word");break;case"g":d.selection.selectTo(f||0,0)}}},o:{nav:function(f,c,h,a){h=h||1;var d="";while(0<h--){d+="\n"}d.length&&(f.navigateLineEnd(),f.insert(d),b.insertMode(f))}},O:{nav:function(f,c,l,a){var d=f.getCursorPosition().row;l=l||1;var h="";while(0<l--){h+="\n"}h.length&&(d>0?(f.navigateUp(),f.navigateLineEnd(),f.insert(h)):(f.session.insert({row:0,column:0},h),f.navigateUp()),b.insertMode(f))}},"%":new D(function(h){var c=/[\[\]{}()]/g,l=h.getCursorPosition(),f=h.session.getLine(l.row)[l.column];if(!c.test(f)){var a=v(h,c);if(!a){return}l=a.start}var d=h.session.findMatchingBracket({row:l.row,column:l.column+1});return d}),"{":new D(function(c){var a=c.session,d=a.selection.lead.row;while(d>0&&!/\S/.test(a.getLine(d))){d--}while(/\S/.test(a.getLine(d))){d--}return{column:0,row:d}}),"}":new D(function(d){var a=d.session,f=a.getLength(),c=a.selection.lead.row;while(c<f&&!/\S/.test(a.getLine(c))){c++}while(/\S/.test(a.getLine(c))){c++}return{column:0,row:c}}),"ctrl-d":{nav:function(d,a,f,c){d.selection.clearSelection(),q(d,d.gotoPageDown)},sel:function(d,a,f,c){q(d,d.selectPageDown)}},"ctrl-u":{nav:function(d,a,f,c){d.selection.clearSelection(),q(d,d.gotoPageUp)},sel:function(d,a,f,c){q(d,d.selectPageUp)}},"`":new D({param:!0,handlesCount:!0,getPos:function(h,c,p,f,a){var d=h.session,l=d.vimMarkers&&d.vimMarkers[f];if(l){return l.getPosition()}}}),"'":new D({param:!0,handlesCount:!0,getPos:function(l,F,f,c,h){var G=l.session,d=G.vimMarkers&&G.vimMarkers[c];if(d){var E=d.getPosition(),p=l.session.getLine(E.row);return E.column=p.search(/\S/),E.column==-1&&(E.column=p.length),E}},isLine:!0})},k.exports.backspace=k.exports.left=k.exports.h,k.exports.space=k.exports["return"]=k.exports.right=k.exports.l,k.exports.up=k.exports.k,k.exports.down=k.exports.j,k.exports.pagedown=k.exports["ctrl-d"],k.exports.pageup=k.exports["ctrl-u"],k.exports.home=k.exports[0],k.exports.end=k.exports.$}),ace.define("ace/keyboard/vim/maps/operators",["require","exports","module","ace/keyboard/vim/maps/util","ace/keyboard/vim/registers","ace/range"],function(f,b,g){var d=f("./util"),a=f("../registers"),c=f("../../../range").Range;g.exports={d:{selFn:function(j,h,k,i){a._default.text=j.getCopyText(),a._default.isLine=d.onVisualLineMode,d.onVisualLineMode?j.removeLines():j.session.remove(h),d.normalMode(j)},fn:function(m,j,q,l){q=q||1;switch(l){case"d":a._default.text="",a._default.isLine=!0;for(var k=0;k<q;k++){m.selection.selectLine(),a._default.text+=m.getCopyText();var p=m.getSelectionRange();if(!p.isMultiLine()){var i=p.start.row-1,h=m.session.getLine(i).length;p.setStart(i,h),m.session.remove(p),m.selection.clearSelection();break}m.session.remove(p),m.selection.clearSelection()}a._default.text=a._default.text.replace(/\n$/,"");break;default:j&&(m.selection.setSelectionRange(j),a._default.text=m.getCopyText(),a._default.isLine=!1,m.session.remove(j),m.selection.clearSelection())}}},c:{selFn:function(k,j,l,h){k.session.remove(j),d.insertMode(k)},fn:function(k,j,m,h){m=m||1;switch(h){case"c":k.$blockScrolling++,k.selection.$moveSelection(function(){k.selection.moveCursorBy(m-1,0)});var l=k.$getSelectedRows();j=new c(l.first,0,l.last,Infinity),k.session.remove(j),k.$blockScrolling--,d.insertMode(k);break;default:j&&(k.session.remove(j),d.insertMode(k))}}},y:{selFn:function(j,h,k,i){a._default.text=j.getCopyText(),a._default.isLine=d.onVisualLineMode,j.selection.clearSelection(),d.normalMode(j)},fn:function(k,h,m,j){m=m||1,j&&j.isLine&&(j="y");switch(j){case"y":var i=k.getCursorPosition();k.selection.selectLine();for(var l=0;l<m-1;l++){k.selection.moveCursorDown()}a._default.text=k.getCopyText().replace(/\n$/,""),k.selection.clearSelection(),a._default.isLine=!0,k.moveCursorToPosition(i);break;default:if(h){var i=k.getCursorPosition();k.selection.setSelectionRange(h),a._default.text=k.getCopyText(),a._default.isLine=!1,k.selection.clearSelection(),k.moveCursorTo(i.row,i.column)}}}},">":{selFn:function(l,j,m,h){m=m||1;for(var k=0;k<m;k++){l.indent()}d.normalMode(l)},fn:function(m,j,o,l){o=parseInt(o||1,10);switch(l){case">":var h=m.getCursorPosition();m.selection.selectLine();for(var k=0;k<o-1;k++){m.selection.moveCursorDown()}m.indent(),m.selection.clearSelection(),m.moveCursorToPosition(h),m.navigateLineEnd(),m.navigateLineStart()}}},"<":{selFn:function(l,j,m,h){m=m||1;for(var k=0;k<m;k++){l.blockOutdent()}d.normalMode(l)},fn:function(m,j,o,l){o=o||1;switch(l){case"<":var h=m.getCursorPosition();m.selection.selectLine();for(var k=0;k<o-1;k++){m.selection.moveCursorDown()}m.blockOutdent(),m.selection.clearSelection(),m.moveCursorToPosition(h),m.navigateLineEnd(),m.navigateLineStart()}}}}}),"use strict",ace.define("ace/keyboard/vim/maps/aliases",["require","exports","module"],function(b,a,c){c.exports={x:{operator:{ch:"d",count:1},motion:{ch:"l",count:1}},X:{operator:{ch:"d",count:1},motion:{ch:"h",count:1}},D:{operator:{ch:"d",count:1},motion:{ch:"$",count:1}},C:{operator:{ch:"c",count:1},motion:{ch:"$",count:1}},s:{operator:{ch:"c",count:1},motion:{ch:"l",count:1}},S:{operator:{ch:"c",count:1},param:"c"}}}),ace.define("ace/keyboard/vim/commands",["require","exports","module","ace/lib/lang","ace/keyboard/vim/maps/util","ace/keyboard/vim/maps/motions","ace/keyboard/vim/maps/operators","ace/keyboard/vim/maps/aliases","ace/keyboard/vim/registers"],function(Q,D,J){function k(a){O.previous={action:{action:{fn:a}}}}var G=Q("../../lib/lang"),M=Q("./maps/util"),F=Q("./maps/motions"),I=Q("./maps/operators"),B=Q("./maps/aliases"),V=Q("./registers"),P=1,L=2,T=3,N=4,H=8,R=function(a,c,b){while(0<c--){a.apply(this,b)}},A=function(d){var b=d.renderer,f=b.$cursorLayer.getPixelPosition(),c=f.top,a=H*b.layerConfig.lineHeight;2*a>b.$size.scrollerHeight&&(a=b.$size.scrollerHeight/2),b.scrollTop>c-a&&b.session.setScrollTop(c-a),b.scrollTop+b.$size.scrollerHeight<c+a+b.lineHeight&&b.session.setScrollTop(c+a+b.lineHeight-b.$size.scrollerHeight)},K=D.actions={z:{param:!0,fn:function(c,a,d,b){switch(b){case"z":c.renderer.alignCursor(null,0.5);break;case"t":c.renderer.alignCursor(null,0);break;case"b":c.renderer.alignCursor(null,1);break;case"c":c.session.onFoldWidgetClick(a.start.row,{domEvent:{target:{}}});break;case"o":c.session.onFoldWidgetClick(a.start.row,{domEvent:{target:{}}});break;case"C":c.session.foldAll();break;case"O":c.session.unfold()}}},r:{param:!0,fn:function(c,a,d,b){b&&b.length&&(b.length>1&&(b=b=="return"?"\n":b=="tab"?"	":b),R(function(){c.insert(b)},d||1),c.navigateLeft())}},R:{fn:function(c,a,d,b){M.insertMode(c),c.setOverwrite(!0)}},"~":{fn:function(b,a,c){R(function(){var d=b.selection.getRange();d.isEmpty()&&d.end.column++;var f=b.session.getTextRange(d),e=f.toUpperCase();e!=f?b.session.replace(d,e):f.toLowerCase()!=f?b.session.replace(d,f.toLowerCase()):b.navigateRight()},c||1)}},"*":{fn:function(d,b,f,c){d.selection.selectWord(),d.findNext(),A(d);var a=d.selection.getRange();d.selection.setSelectionRange(a,!0)}},"#":{fn:function(d,b,f,c){d.selection.selectWord(),d.findPrevious(),A(d);var a=d.selection.getRange();d.selection.setSelectionRange(a,!0)}},m:{param:!0,fn:function(f,b,h,d){var a=f.session,c=a.vimMarkers||(a.vimMarkers={}),g=f.getCursorPosition();c[d]||(c[d]=f.session.doc.createAnchor(g)),c[d].setPosition(g.row,g.column,!0)}},n:{fn:function(f,b,g,d){var a=f.getLastSearchOptions();a.backwards=!1,a.start=null,f.selection.moveCursorRight(),f.selection.clearSelection(),f.findNext(a),A(f);var c=f.selection.getRange();c.end.row=c.start.row,c.end.column=c.start.column,f.selection.setSelectionRange(c,!0)}},N:{fn:function(f,b,g,d){var a=f.getLastSearchOptions();a.backwards=!0,a.start=null,f.findPrevious(a),A(f);var c=f.selection.getRange();c.end.row=c.start.row,c.end.column=c.start.column,f.selection.setSelectionRange(c,!0)}},v:{fn:function(c,a,d,b){c.selection.selectRight(),M.visualMode(c,!1)},acceptsMotion:!0},V:{fn:function(d,a,f,c){var b=d.getCursorPosition().row;d.selection.moveTo(b,0),d.selection.selectLineEnd(),d.selection.visualLineStart=b,M.visualMode(d,!0)},acceptsMotion:!0},Y:{fn:function(c,a,d,b){M.copyLine(c)}},p:{fn:function(f,c,h,b){var d=V._default;f.setOverwrite(!1);if(d.isLine){var g=f.getCursorPosition();g.column=f.session.getLine(g.row).length;var a=G.stringRepeat("\n"+d.text,h||1);f.session.insert(g,a),f.moveCursorTo(g.row+1,0)}else{f.navigateRight(),f.insert(G.stringRepeat(d.text,h||1)),f.navigateLeft()}f.setOverwrite(!0),f.selection.clearSelection()}},P:{fn:function(f,c,h,b){var d=V._default;f.setOverwrite(!1);if(d.isLine){var g=f.getCursorPosition();g.column=0;var a=G.stringRepeat(d.text+"\n",h||1);f.session.insert(g,a),f.moveCursorToPosition(g)}else{f.insert(G.stringRepeat(d.text,h||1))}f.setOverwrite(!0),f.selection.clearSelection()}},J:{fn:function(l,v,d,b){var g=l.session;v=l.getSelectionRange();var w={row:v.start.row,column:v.start.column};d=d||v.end.row-v.start.row;var c=Math.min(w.row+(d||1),g.getLength()-1);v.start.column=g.getLine(w.row).length,v.end.column=g.getLine(c).length,v.end.row=c;var p="";for(var m=w.row;m<c;m++){var h=g.getLine(m+1);p+=" "+/^\s*(.*)$/.exec(h)[1]||""}g.replace(v,p),l.moveCursorTo(w.row,w.column)}},u:{fn:function(d,b,f,c){f=parseInt(f||1,10);for(var a=0;a<f;a++){d.undo()}d.selection.clearSelection()}},"ctrl-r":{fn:function(d,b,f,c){f=parseInt(f||1,10);for(var a=0;a<f;a++){d.redo()}d.selection.clearSelection()}},":":{fn:function(d,b,f,c){var a=":";f>1&&(a=".,.+"+f+a),d.showCommandLine&&d.showCommandLine(a)}},"/":{fn:function(c,a,d,b){c.showCommandLine&&c.showCommandLine("/")}},"?":{fn:function(c,a,d,b){c.showCommandLine&&c.showCommandLine("?")}},".":{fn:function(d,a,f,c){M.onInsertReplaySequence=O.lastInsertCommands;var b=O.previous;b&&O.exec(d,b.action,b.param)}},"ctrl-x":{fn:function(c,a,d,b){c.modifyNumber(-(d||1))}},"ctrl-a":{fn:function(c,a,d,b){c.modifyNumber(d||1)}}},O=D.inputBuffer={accepting:[P,L,T,N],currentCmd:null,currentCount:"",pendingCount:"",status:"",operator:null,motion:null,lastInsertCommands:[],push:function(l,f,o){var g=this.status,c=!0;this.idle=!1;var b=this.waitingForParam;/^numpad\d+$/i.test(f)&&(f=f.substr(6));if(b){this.exec(l,b,f)}else{if(f==="0"&&!this.currentCount.length||!/^\d+$/.test(f)||!this.isAccepting(P)){if(!this.operator&&this.isAccepting(L)&&I[f]){this.operator={ch:f,count:this.getCount()},this.currentCmd=L,this.accepting=[P,T,N],this.exec(l,{operator:this.operator})}else{if(F[f]&&this.isAccepting(T)){this.currentCmd=T;var h={operator:this.operator,motion:{ch:f,count:this.getCount()}};F[f].param?this.waitForParam(h):this.exec(l,h)}else{if(B[f]&&this.isAccepting(T)){B[f].operator.count=this.getCount(),this.exec(l,B[f])}else{if(K[f]&&this.isAccepting(N)){var m={action:{fn:K[f].fn,count:this.getCount()}};K[f].param?this.waitForParam(m):this.exec(l,m),K[f].acceptsMotion&&(this.idle=!1)}else{this.operator?(this.operator.count=this.getCount(),this.exec(l,{operator:this.operator},f)):(c=f.length==1,this.reset())}}}}}else{this.currentCount+=f,this.currentCmd=P,this.accepting=[P,L,T,N]}}return this.waitingForParam||this.motion||this.operator?this.status+=f:this.currentCount?this.status=this.currentCount:this.status&&(this.status=""),this.status!=g&&l._emit("changeStatus"),c},waitForParam:function(a){this.waitingForParam=a},getCount:function(){var a=this.currentCount||this.pendingCount;return this.currentCount="",this.pendingCount=a,a&&parseInt(a,10)},exec:function(i,s,d){var b=s.motion,p=s.operator,o=s.action;d||(d=s.param),p&&(this.previous={action:s,param:d});if(p&&!i.selection.isEmpty()){I[p.ch].selFn&&(I[p.ch].selFn(i,i.getSelectionRange(),p.count,d),this.reset());return}if(!b&&!o&&p&&d){I[p.ch].fn(i,null,p.count,d),this.reset()}else{if(b){var h=function(a){a&&typeof a=="function"&&(b.count&&!g.handlesCount?R(a,b.count,[i,null,b.count,d]):a(i,null,b.count,d))},g=F[b.ch],m=g.sel;p?m&&R(function(){h(g.sel),I[p.ch].fn(i,i.getSelectionRange(),p.count,g.param?g:d)},p.count||1):(M.onVisualMode||M.onVisualLineMode)&&m?h(g.sel):h(g.nav),this.reset()}else{o&&(o.fn(i,i.getSelectionRange(),o.count,d),this.reset())}}U(i)},isAccepting:function(a){return this.accepting.indexOf(a)!==-1},reset:function(){this.operator=null,this.motion=null,this.currentCount="",this.pendingCount="",this.status="",this.accepting=[P,L,T,N],this.idle=!0,this.waitingForParam=null}};D.coreCommands={start:{exec:function z(a){M.insertMode(a),k(z)}},startBeginning:{exec:function C(a){a.navigateLineStart(),M.insertMode(a),k(C)}},stop:{exec:function(a){O.reset(),M.onVisualMode=!1,M.onVisualLineMode=!1,O.lastInsertCommands=M.normalMode(a)}},append:{exec:function j(b){var a=b.getCursorPosition(),c=b.session.getLine(a.row).length;c&&b.navigateRight(),M.insertMode(b),k(j)}},appendEnd:{exec:function q(a){a.navigateLineEnd(),M.insertMode(a),k(q)}}};var U=D.onCursorMove=function(f,b){if(M.currentMode==="insert"||U.running){return}if(!f.selection.isEmpty()){U.running=!0;if(M.onVisualLineMode){var h=f.selection.visualLineStart,d=f.getCursorPosition().row;if(h<=d){var c=f.session.getLine(d);f.selection.moveTo(h,0),f.selection.selectTo(d,c.length)}else{var c=f.session.getLine(h);f.selection.moveTo(h,c.length),f.selection.selectTo(d,0)}}U.running=!1;return}b&&(M.onVisualLineMode||M.onVisualMode)&&(f.selection.clearSelection(),M.normalMode(f)),U.running=!0;var g=f.getCursorPosition(),a=f.session.getLine(g.row).length;a&&g.column===a&&f.navigateLeft(),U.running=!1}}),ace.define("ace/keyboard/vim",["require","exports","module","ace/keyboard/vim/commands","ace/keyboard/vim/maps/util","ace/lib/useragent"],function(g,c,j){var f=g("./vim/commands"),b=f.coreCommands,d=g("./vim/maps/util"),h=g("../lib/useragent"),a={i:{command:b.start},I:{command:b.startBeginning},a:{command:b.append},A:{command:b.appendEnd},"ctrl-f":{command:"gotopagedown"},"ctrl-b":{command:"gotopageup"}};c.handler={$id:"ace/keyboard/vim",handleMacRepeat:function(k,i,l){if(i==-1){k.inputChar=l,k.lastEvent="input"}else{if(k.inputChar&&k.$lastHash==i&&k.$lastKey==l){if(k.lastEvent=="input"){k.lastEvent="input1"}else{if(k.lastEvent=="input1"){return !0}}}else{k.$lastHash=i,k.$lastKey=l,k.lastEvent="keypress"}}},updateMacCompositionHandlers:function(l,i){var m=function(o){if(d.currentMode!=="insert"){var n=this.textInput.getElement();n.blur(),n.focus(),n.value=o}else{this.onCompositionUpdateOrig(o)}},k=function(n){d.currentMode==="insert"&&this.onCompositionStartOrig(n)};i?l.onCompositionUpdateOrig||(l.onCompositionUpdateOrig=l.onCompositionUpdate,l.onCompositionUpdate=m,l.onCompositionStartOrig=l.onCompositionStart,l.onCompositionStart=k):l.onCompositionUpdateOrig&&(l.onCompositionUpdate=l.onCompositionUpdateOrig,l.onCompositionUpdateOrig=null,l.onCompositionStart=l.onCompositionStartOrig,l.onCompositionStartOrig=null)},handleKeyboard:function(q,m,u,o,k){if(m!==0&&(!u||o==-1)){return null}var p=q.editor,i=q.vimState||"start";m==1&&(u="ctrl-"+u);if(u=="ctrl-c"){return !h.isMac&&p.getCopyText()?(p.once("copy",function(){i=="start"?b.stop.exec(p):p.selection.clearSelection()}),{command:"null",passEvent:!0}):{command:b.stop}}if(u=="esc"&&m===0||u=="ctrl-["){return{command:b.stop}}if(i=="start"){h.isMac&&this.handleMacRepeat(q,m,u)&&(m=-1,u=q.inputChar);if(m==-1||m==1||m===0&&u.length>1){if(f.inputBuffer.idle&&a[u]){return a[u]}var r=f.inputBuffer.push(p,u);if(!r&&m!==-1){return}return{command:"null",passEvent:!r}}if(u=="esc"&&m===0){return{command:b.stop}}if(m===0||m==4){return{command:"null",passEvent:!0}}}else{if(u=="ctrl-w"){return{command:"removewordleft"}}}},attach:function(i){i.on("click",c.onCursorMove),d.currentMode!=="insert"&&f.coreCommands.stop.exec(i),i.$vimModeHandler=this,this.updateMacCompositionHandlers(i,!0)},detach:function(i){i.removeListener("click",c.onCursorMove),d.noMode(i),d.currentMode="normal",this.updateMacCompositionHandlers(i,!1)},actions:f.actions,getStatusText:function(){return d.currentMode=="insert"?"INSERT":d.onVisualMode?(d.onVisualLineMode?"VISUAL LINE ":"VISUAL ")+f.inputBuffer.status:f.inputBuffer.status}},c.onCursorMove=function(i){f.onCursorMove(i.editor,i),c.onCursorMove.scheduled=!1}});