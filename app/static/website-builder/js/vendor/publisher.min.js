/*!
 * publisher.js - (c) Ryan Florence 2011
 * github.com/rpflorence/publisher.js
 * MIT License
*/
(function(a,b){if(typeof exports==="object"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define(b)}else{var d=a.publisher;var c=a.publisher=b();a.publisher.noConflict=function(){a.publisher=d;return c}}}}(this,function(){var a=function(f){var h={};f=f||{};f.publish=function(k){if(!h[k]){return f}var n=[].slice.call(arguments,1);for(var m=0,j=h[k].length;m<j;m++){h[k][m].handler.apply(h[k][m].context,n)}return f};f.subscribe=function(i,k){var j=typeof i;if(j==="string"){return b.apply(null,arguments)}if(j==="object"&&!k){return c.apply(null,arguments)}if(typeof k==="string"){return e.apply(null,arguments)}return g.apply(null,arguments)};function b(j,l,k){var i={handler:l,context:k||f};j=h[j]||(h[j]=[]);j.push(i);return{attach:function(){j.push(i);return this},detach:function(){d(j,i);return this}}}function c(j){var k={};for(var i in j){if(!j.hasOwnProperty(i)){continue}k[i]=b(i,j[i])}return k}function e(j,i){return b(i,j[i],j)}function g(m,o){var n=[];for(var k=0,j=o.length;k<j;k++){n.push(e(m,o[k]))}return n}function d(j,n){for(var m=0,k=j.length;m<k;m++){if(j[m]===n){j.splice(m,1)}}}return f};return a(a)}));